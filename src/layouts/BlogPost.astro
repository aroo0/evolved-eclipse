---
import type { CollectionEntry } from 'astro:content';
import BaseHead from '../components/BaseHead.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import FormattedDate from '../components/FormattedDate.astro';
import Hero from '../components/Hero.astro';
import { gray, background, main } from '../consts';
import Button from '../components/Button.astro';


type Props = CollectionEntry<'blog'>['data'];

const { title, description, pubDate, updatedDate, heroImage, tags } = Astro.props;





---

<html lang="en">
	<head>
		<BaseHead title={title} description={description} />
	</head>
	<body>
		<div class="container">
		<Header />
		<main>
			<div class="hero-wrapper">
				<img src={heroImage} alt="hero image" class="hero-image">
			  </div>
			<article>
				<div class='article__tags'>
					{
					tags.map(tag => (
						<Button tag={tag} />
					))}</div>
				<div class='artice__date'>
					<FormattedDate date={pubDate} />
				</div>
				<h1 class="article__headline">{title}</h1>
				<div class='article__separator article__separator--long'></div>
				<div class='article__description'>{description}</div>

				
				<div class='article__separator article__separator--short'></div>
				<div class='content'>
				<slot />
			</div>
			</article>
		</main>
		<Footer />
	</div>
	</body>
</html>


<style>

:root {
	--light: #ffffff;
	--dark: #000000;
	--gray: #8c8c8c;
  }
  
  

.hero-wrapper {
	position:sticky;
	top: 40px;
    height: 500px;
	width: 100%;
}
.hero-image {
	position: absolute;
	top: 0;
	left: 0;
	height: 100%;
	width: 100%;
	object-position: center;
	object-fit: cover;
}
article {
    position: relative;
    z-index: 4;
    opacity: 1;
	display: grid;
	gap: 1rem;
	grid-template-columns: 3fr 5fr 3fr;
	background: var(--light);
}

.article__headline {
	font-size: 2.2rem;
	margin: .3rem 0;
	grid-column: 1/3;

}

.article__description {
	font-size: 1.4rem;
	grid-column: 1/3;
}

.article__separator {
	height: 1px;
	background-color: var(--gray);
    margin-bottom: 10px;
    margin-top: 20px;
    width: 100%;
	z-index: 3;
}

.article__separator--long {
	grid-column: 1 / 4

}


.article__separator-short {
	grid-column: 1 / 2;

}
.content {
	grid-column: 2 / 3;


}


</style>
